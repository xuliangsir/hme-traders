/** * Created by liangxu on 2017/11/17. */const https = require('https');const qs = require('querystring');const _= require('lodash');//send_sms(send_sms_uri, apikey, '13269524373', text);module.exports = {// const sms_host = 'sms.yunpian.com';// const send_sms_uri = '/v2/sms/single_send.json';    send_sms: function (mobile) {        var post_data = {            'apikey': '9cc160bdb7a4c412734f4798504ce2f1',            'mobile': mobile,            'text': '【家政圈】您的验证码是' + _.random(10001, 100000)        };//这是需要提交的数据        var content = qs.stringify(post_data);        var options = {            hostname: 'sms.yunpian.com',            port: 443,            path: '/v2/sms/single_send.json',            method: 'POST',            headers: {                'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'            }        };        var req = https.request(options, function (res) {            // console.log('STATUS: ' + res.statusCode);            // console.log('HEADERS: ' + JSON.stringify(res.headers));            res.setEncoding('utf8');            res.on('data', function (chunk) {                console.log('BODY: ' + chunk);            });        });        //console.log(content);        req.write(content);        req.end();    }};